<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Post Match Generator</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Jersey+25&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

  <!-- html2canvas -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

  <!-- CSS externe -->
  <link rel="stylesheet" href="style.css">
</head>

<body>

<h1 class="main-title">Post Match Generator</h1>

<div class="layout">

  <!-- ===== VISUEL (Fixed) ===== -->
  <div class="visual-container">
    <div class="base" id="capture">
      <img id="bgImage" class="bg-image">

      <div class="info info1" id="info1">LIGUE 1</div>
      <div class="info AvsB" id="matchTitle">Ã‰quipe A - Ã‰quipe B</div>
      <div class="info info2" id="info2">JOURNÃ‰E 13</div>

      <div class="rouge"></div>
      <div class="texte">FULLTIME</div>

      <div class="degrader"></div>
      <div class="vertA" id="logoA"></div>
      <div class="vertB" id="logoB"></div>
      <div class="scoreA" id="displayScoreA">0</div>
      <div class="trait">-</div>
      <div class="scoreB" id="displayScoreB">0</div>

    </div>
  </div>

  <!-- ===== CONTROLS (Scrollable) ===== -->
  <div class="controls">

    <!-- Ã‰quipes -->
    <div class="control-block">
      <div class="control-title">ğŸ† Ã‰quipe A</div>
      <div class="team-display-v1" id="teamA-display">
        <div class="team-logo-preview empty-logo" id="teamA-logo"></div>
        <div class="team-info">
          <div class="team-name" id="teamA-name">Aucune Ã©quipe</div>
          <button id="teamA-btn">Choisir</button>
        </div>
      </div>
    </div>

    <div class="control-block">
      <div class="control-title">ğŸ† Ã‰quipe B</div>
      <div class="team-display-v1" id="teamB-display">
        <div class="team-logo-preview empty-logo" id="teamB-logo"></div>
        <div class="team-info">
          <div class="team-name" id="teamB-name">Aucune Ã©quipe</div>
          <button id="teamB-btn">Choisir</button>
        </div>
      </div>
    </div>

    <!-- MODAL SÃ‰LECTION Ã‰QUIPE -->
    <div class="modal" id="clubModal">
      <div class="modal-content">
        <button class="modal-close-x" id="closeModalX">Ã—</button>
        <div class="modal-title">Choisir une Ã©quipe</div>
        <input type="text" class="club-search" id="clubSearchModal" placeholder="ğŸ” Rechercher une Ã©quipe...">
        <div class="club-list" id="clubListModal"></div>
        <button class="modal-close" id="closeModal">Fermer</button>
      </div>
    </div>

    <!-- Scores -->
    <div class="control-block">
      <div class="control-title">âš½ Score Ã‰quipe A</div>
      <input
        type="number"
        id="inputScoreA"
        min="0"
        max="9"
        value="0"
      >
    </div>

    <div class="control-block">
      <div class="control-title">âš½ Score Ã‰quipe B</div>
      <input
        type="number"
        id="inputScoreB"
        min="0"
        max="9"
        value="0"
      >
    </div>

    <!-- Info droite -->
    <div class="control-block">
      <div class="control-title">ğŸ“… Info droite</div>
      <input
        type="text"
        id="inputInfo2"
        placeholder="Ex: JOURNÃ‰E 13"
        value="JOURNÃ‰E 13"
      >
    </div>

    <!-- CompÃ©tition -->
    <div class="control-block">
      <div class="control-title">ğŸ… CompÃ©tition</div>
      <div class="button-group">
        <button class="active" data-competition="LIGUE 1">Ligue 1</button>
        <button data-competition="NATIONAL 3">National 3</button>
      </div>
    </div>

    <!-- Image -->
    <div class="control-block">
      <div class="control-title">ğŸ–¼ï¸ Importer image de fond</div>
      <input type="file" id="fileInput" accept="image/*,.jpg,.jpeg,.png,.gif,.webp">
    </div>

    <!-- NOUVEAU : Bouton Recadrer -->
    <div class="control-block">
      <button id="btnRecadrer" disabled style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
        âœ‚ï¸ Recadrer l'image
      </button>
    </div>

    <!-- Ancien Zoom (cachÃ© par dÃ©faut, optionnel) -->
    <div class="control-block hidden">
      <button id="btnZoom">ğŸ” Zoom image</button>

      <div id="zoomControls" class="hidden">
        <input
          type="range"
          id="zoomSlider"
          min="1"
          max="1.5"
          step="0.01"
          value="1"
        >
        <button id="btnCloseZoom">Fermer le zoom</button>
      </div>
    </div>

    <!-- Export -->
    <div class="control-block">
      <div class="button-group">
        <button id="btnExport" style="background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); font-size: 15px; padding: 14px;">
          ğŸ“¥ Exporter
        </button>
        <button id="btnShare" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); font-size: 15px; padding: 14px;">
          ğŸ”— Partager
        </button>
      </div>
    </div>

  </div>

</div>

<!-- MODAL RECADRAGE -->
<div class="recadrage-modal" id="recadrageModal">
  <div class="recadrage-container">
    
    <div class="recadrage-header">
      <h2>âœ‚ï¸ Recadrer l'image</h2>
      <p>ğŸ“± 1 doigt pour dÃ©placer â€¢ ğŸ¤ 2 doigts pour zoomer</p>
    </div>

    <!-- PREVIEW COMPLET AVEC TOUS LES Ã‰LÃ‰MENTS -->
    <div class="recadrage-preview" id="recadragePreview">
      <img id="recadrageImage" class="recadrage-image">

      <!-- TOUS LES Ã‰LÃ‰MENTS VISUELS -->
      <div class="info info1" id="recadrage-info1">LIGUE 1</div>
      <div class="info AvsB" id="recadrage-matchTitle">Ã‰quipe A - Ã‰quipe B</div>
      <div class="info info2" id="recadrage-info2">JOURNÃ‰E 13</div>

      <div class="rouge"></div>
      <div class="texte">FULLTIME</div>

      <div class="degrader"></div>
      <div class="vertA" id="recadrage-logoA"></div>
      <div class="vertB" id="recadrage-logoB"></div>
      <div class="scoreA" id="recadrage-displayScoreA">0</div>
      <div class="trait">-</div>
      <div class="scoreB" id="recadrage-displayScoreB">0</div>

      <div class="recadrage-grid"></div>
    </div>

    <div class="recadrage-controls">
      <div class="zoom-control">
        <label>ğŸ” Zoom</label>
        <input 
          type="range" 
          id="recadrageZoomSlider" 
          min="1" 
          max="3" 
          step="0.01" 
          value="1"
        >
      </div>

      <div class="recadrage-actions">
        <button id="btnAnnulerRecadrage">âŒ Annuler</button>
        <button id="btnValiderRecadrage">âœ… Valider</button>
      </div>
    </div>

  </div>
</div>

<!-- JavaScript externe -->
<script src="clubs.js"></script>
<script src="script.js"></script>

</body>
</html>
